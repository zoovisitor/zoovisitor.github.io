<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>AB实验平台的数据建设 | Blogs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/latest/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/pure-min.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/latest/grids-responsive-min.min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/latest/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script type="text/javascript" src="//lib.baomitu.com/clipboard.js/latest/clipboard.min.js"></script><script type="text/javascript" src="//lib.baomitu.com/toastr.js/latest/toastr.min.js"></script><link rel="stylesheet" href="//lib.baomitu.com/toastr.js/latest/toastr.min.css"><meta name="generator" content="Hexo 5.3.0"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">AB实验平台的数据建设</h1><a id="logo" href="/.">Blogs</a><p class="description"></p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">AB实验平台的数据建设</h1><div class="post-meta">2023-04-09</div><div class="post-content"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>数据分析告诉我们要不要做一件事情，ab实验反馈告诉我们做的好不好，哪里有问题，以及衡量可以带来多少的确定性增量。<br>AB测试是一种产品优化方法，为同一个目标制定两个方案，让同一部分用户中的一部分用户命中A方案，同时另一部分用户命中B方案，统计并比较不同方案的点击率、转化率等数据指标，通过不同方案的数据表现，在确定数据表现通过假设检验后，决定最终方案的实验方法。<br>AB实验是对同一个问题，在大于等于2套解决方案，对同一组人群（样本足够）进行随机分组，在同一时间维度，进行试验组和对照组的实验，通过少量且相同的衡量指标，衡量那套解决方案的结果表现更好，并采用。</p>
<h1 id="理论基础"><a href="#理论基础" class="headerlink" title="理论基础"></a>理论基础</h1><h2 id="1-中心极限定理"><a href="#1-中心极限定理" class="headerlink" title="1 中心极限定理"></a>1 中心极限定理</h2><p>大量相互独立的随机变量，其均值的分布以正态分布为极限（意思是当满足某些条件的时候，比如sample size比较大，采样次数区域无穷大的时候，就约接近正态分布）。而这个定理amazing的地方在于无论是什么分布的随机变量，都满足这个定理</p>
<h2 id="2-大数定理"><a href="#2-大数定理" class="headerlink" title="2 大数定理"></a>2 大数定理</h2><p>如果有一个随机变量x,不断的观察并且采样这个随机变量，得到了n个采样值，然后求的这个n个采样值的平均值，当n趋于正无穷的时候，这个平均值就收敛于这个随机变量x的期望。</p>
<h2 id="3-置信区间和统计显著"><a href="#3-置信区间和统计显著" class="headerlink" title="3 置信区间和统计显著"></a>3 置信区间和统计显著</h2><p>置信区间是用来对一个概率样本的总体参数进行区间估计的样本均值范围，它展示了这个均值范围包含总体参数的概率，这个概率称为置信水平。<br>置信水平代表了估计的可靠度，一般而言，我们采用95%的置信水平进行区间估计。<br>AB测试是一种对比实验，在实验过程中，从总体中抽取一些样本进行数据统计，进而得出对总体参数的一个估计。</p>
<h1 id="收集指标，建立指标体系"><a href="#收集指标，建立指标体系" class="headerlink" title="收集指标，建立指标体系"></a>收集指标，建立指标体系</h1><p>一般AB实验指标体系需要三类实验指标：</p>
<ul>
<li>核心指标：决定实验成败的关键指标</li>
<li>辅助指标：辅助判断实验对其他因素的影响</li>
<li>反向指标：实验可能产生负面影响的指标，提示实验可能的负面影响，如果负面影响过高，即使其他指标通过，也可以否决实验结果</li>
</ul>
<h1 id="AB实验能够解决什么问题"><a href="#AB实验能够解决什么问题" class="headerlink" title="AB实验能够解决什么问题"></a>AB实验能够解决什么问题</h1><ul>
<li>方案争议较大时，减少低效争议带来的内耗，提高决策效率</li>
<li>有多组解决方案时，提高认知效率，提高产品进化效率</li>
<li>对团队在进攻同一指标，或同期上线多个策略时，明确收益点和负向点，避免收益淹没、认知偏差和收益分配</li>
<li>业务处于确定性高的精细化运营阶段，数据增长大都来自大量的线性化提升，而不是大的激进策略</li>
</ul>
<h1 id="AB实验的类型"><a href="#AB实验的类型" class="headerlink" title="AB实验的类型"></a>AB实验的类型</h1><ul>
<li>互斥实验：实验与实验共用一层流量，互相不产生交叉</li>
<li>正交实验：实验与实验分别用不同层的流量，不产生互相干扰，层与层之间用户流量随机均匀分配，不影响实验变量的唯一性，可以实现大量实验的并行</li>
<li>圈层实验：通常受众比较大的增长点做完了，更多会去做用户的精细化运营，满足某些群体没有被很好满足的需求，比如多日无播放行为的用户做个圈层，做引导或者Push</li>
</ul>
<h1 id="AB实验中常见的问题"><a href="#AB实验中常见的问题" class="headerlink" title="AB实验中常见的问题"></a>AB实验中常见的问题</h1><ul>
<li>用户标识问题，要保证用户ID的唯一性</li>
<li>用户组出问题，要保证试验对象的不变性，一般会在圈层实验中存在，比如通过兴趣标签进行用户圈层，实验结束前用户的兴趣标签发生了变化。</li>
<li>交叉实验没有策略互相覆盖的问题，要保证策略的执行</li>
<li>交叉认知不足，导致无法并行大量实验问题，</li>
<li>不会看数据的问题，没从直接影响指标（分层、分群、局部）到大盘指标</li>
<li>实验结果数据的置信度</li>
<li>实验是验证你基于用户和规律洞察后的假设，不要用实验代替假设</li>
<li>实验探索的坚韧性，很多人会通过简单的尝试，得出对这个世界太多的否定结论</li>
</ul>
<h1 id="AB实验的边界"><a href="#AB实验的边界" class="headerlink" title="AB实验的边界"></a>AB实验的边界</h1><ul>
<li>战略性的需要长期经营投入的项目不能通过实验来验证</li>
<li>分流后会形成新变量，会对实验效果产生影响的项目不能通过实验来验证，比如社交场景，用户与用户之间会相互影响，不太可能你有我没有，大概率会产生客诉</li>
<li>见效周期较长的项目，有些功能需要用户慢慢培养习惯</li>
<li>确定性较高的，体验性的优化不需要通过实验来验证</li>
</ul>
<h1 id="常见问题"><a href="#常见问题" class="headerlink" title="常见问题"></a>常见问题</h1><h2 id="辛普森悖论"><a href="#辛普森悖论" class="headerlink" title="辛普森悖论"></a>辛普森悖论</h2><p>辛普森悖论是指在某个条件下的两组睡觉，分别讨论时满足某种特性，可一旦合并，会得出相反的结论，要避免辛普森悖论，需要进行正确的流量分割，保证试验组和对照组的用户特征是一致的，并且具备代表总体用户特征，分层实验、定向实验是解决该问题的关键。</p>
<h2 id="以偏概全"><a href="#以偏概全" class="headerlink" title="以偏概全"></a>以偏概全</h2><p>如果实验时间跑的太短，没有让高频用户和低频用户都包含在实验里，如果实验只考虑高频用户，就会得到以偏概全的错误结论。</p>
<h2 id="新奇效应"><a href="#新奇效应" class="headerlink" title="新奇效应"></a>新奇效应</h2><p>新奇效应也是均值回归，统计学上对于概率事件的结果，随着实验次数增加，结果往往趋于均值。在AB实验早起，用户因为新奇会关注新的改动，但往往前期显著的提升之后几天或者几周后会逐步消失。</p>
<h1 id="实验设计"><a href="#实验设计" class="headerlink" title="实验设计"></a>实验设计</h1><h2 id="流量分配"><a href="#流量分配" class="headerlink" title="流量分配"></a>流量分配</h2><p>实验设计有两个目的：希望尽快得到实验结论，尽快决策、希望收益最大化，用户体验影响最小，因此在流量分配上有所权衡，一般有如下情况：</p>
<ul>
<li>不影响用户体验，例如UI实验、文案类实验，一般可以均匀分配流量，可以快速得到实验结论</li>
<li>不确定性较强的实验，如产品功能上线，一般需小流量，尽量减少用户体验影响，在允许的时间内得到结论</li>
<li>希望收益最大化的实验，如运营活动等，一般需要大流量实验，流出小部分流量评估ROI</li>
</ul>
<p>TODO：如何计算需要的样本量：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/40919260">https://zhuanlan.zhihu.com/p/40919260</a></p>
<h2 id="实验效果"><a href="#实验效果" class="headerlink" title="实验效果"></a>实验效果</h2><p>实验效果需要回答那个方案好、那个ROI好、长期看那个更好、不同群体是否有差异</p>
</div><div class="tags"></div><div class="post-nav"><a class="pre" href="/2023/05/05/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/">知识图谱</a><a class="next" href="/2023/04/09/%E6%95%B0%E6%8D%AE%E4%BA%A7%E5%93%81%E4%B8%8E%E6%8C%87%E6%A0%87%E4%BD%93%E7%B3%BB%E7%9A%84%E6%9E%84%E5%BB%BA/">数据产品与指标体系的构建</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://example.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/05/05/%E7%9F%A5%E8%AF%86%E5%9B%BE%E8%B0%B1/">知识图谱</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/09/AB%E5%AE%9E%E9%AA%8C%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BB%BA%E8%AE%BE/">AB实验平台的数据建设</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/09/%E6%95%B0%E6%8D%AE%E4%BA%A7%E5%93%81%E4%B8%8E%E6%8C%87%E6%A0%87%E4%BD%93%E7%B3%BB%E7%9A%84%E6%9E%84%E5%BB%BA/">数据产品与指标体系的构建</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/09/OLAP%E5%88%86%E6%9E%90%E5%B7%A5%E5%85%B7/">OLAP分析工具</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/04/09/%E6%95%B0%E6%8D%AE%E6%B9%96/">数据湖</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/18/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/">知识体系-常见算法知识梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/18/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E9%AB%98%E9%A2%91%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/">知识体系-编程语言高频知识梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/18/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%A2%B3%E7%90%86/">知识体系-大数据处理常见问题梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/18/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E6%95%B0%E6%8D%AE%E4%BB%93%E5%BA%93%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/">知识体系-数据仓库知识梳理</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/02/18/%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB-%E5%85%B6%E4%BB%96%E5%B8%B8%E7%94%A8%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/">知识体系-其他常用知识梳理</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2023 <a href="/." rel="nofollow">Blogs.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/latest/jquery.fancybox.min.css"><script type="text/javascript" src="/js/copycode.js?v=1.0.0" successtext="Copy Successed!"></script><link rel="stylesheet" type="text/css" href="/css/copycode.css?v=1.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script></div></body></html>